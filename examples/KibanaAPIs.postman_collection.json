{
	"info": {
		"_postman_id": "f8a6e271-d95d-4966-ad5c-2c8ffab8be2c",
		"name": "KibanaAPIs(NIPUN)",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Automated_KibanaSetupAPIs",
			"item": [
				{
					"name": "Discover",
					"item": [
						{
							"name": "create_deep_insight_access_log_search",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    pm.collectionVariables.set('deep_insights_access_logs_search_id', pm.response.json().id);",
											"} else {",
											"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
											"    throw new Error('Access log table lense creation failed!');",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "kbn-xsrf",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"attributes\": {\n            \"columns\": [\"method\", \"url\", \"statusCode\", \"processingTime\", \"microService\", \"headers.host\", \"headers.origin\", \"headers.x-forwarded-for\"],\n            \"description\": \"Saved search created by automation .via postman\",\n            \"hits\": 0,\n            \"kibanaSavedObjectMeta\": {\n                \"searchSourceJSON\": \"{\\\"highlightAll\\\":true,\\\"version\\\":true,\\\"query\\\":{\\\"query\\\":\\\"\\\",\\\"language\\\":\\\"kuery\\\"},\\\"filter\\\":[{\\\"meta\\\":{\\\"alias\\\":\\\"accessLogs\\\",\\\"negate\\\":false,\\\"disabled\\\":false,\\\"type\\\":\\\"phrase\\\",\\\"key\\\":\\\"logType.keyword\\\",\\\"params\\\":{\\\"query\\\":\\\"accessLogs\\\"},\\\"indexRefName\\\":\\\"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\\\"},\\\"query\\\":{\\\"match_phrase\\\":{\\\"logType.keyword\\\":\\\"accessLogs\\\"}},\\\"$state\\\":{\\\"store\\\":\\\"appState\\\"}},{\\\"meta\\\":{\\\"alias\\\":\\\"apiLogs\\\",\\\"negate\\\":false,\\\"disabled\\\":true,\\\"type\\\":\\\"phrase\\\",\\\"key\\\":\\\"logType.keyword\\\",\\\"params\\\":{\\\"query\\\":\\\"apiLogs\\\"},\\\"indexRefName\\\":\\\"kibanaSavedObjectMeta.searchSourceJSON.filter[1].meta.index\\\"},\\\"query\\\":{\\\"match_phrase\\\":{\\\"logType.keyword\\\":\\\"apiLogs\\\"}},\\\"$state\\\":{\\\"store\\\":\\\"appState\\\"}}],\\\"indexRefName\\\":\\\"kibanaSavedObjectMeta.searchSourceJSON.index\\\"}\"\n            },\n            \"title\": \"[Deep Insights]{{brand_name}}_{{env}}_access_logs\",\n            \"version\": 1\n        },\n                    \"references\": [\n                {\n                    \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.index\",\n                    \"type\": \"index-pattern\",\n                    \"id\": \"{{index_pattern}}\"\n                },\n                {\n                    \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\",\n                    \"type\": \"index-pattern\",\n                    \"id\": \"{{index_pattern}}\"\n                },\n                {\n                    \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.filter[1].meta.index\",\n                    \"type\": \"index-pattern\",\n                    \"id\": \"{{index_pattern}}\"\n                }\n            ]\n}"
								},
								"url": {
									"raw": "https://elk.oriserve.com/kibana/api/saved_objects/search/deep_insights_{{brand_name}}_{{env}}_access_logs_search",
									"protocol": "https",
									"host": [
										"elk",
										"oriserve",
										"com"
									],
									"path": [
										"kibana",
										"api",
										"saved_objects",
										"search",
										"deep_insights_{{brand_name}}_{{env}}_access_logs_search"
									]
								}
							},
							"response": []
						},
						{
							"name": "create_deep_insight_api_log_search",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											""
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    pm.collectionVariables.set('deep_insights_api_logs_search_id', pm.response.json().id);",
											"} else {",
											"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
											"    throw new Error('Access log table lense creation failed!');",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "kbn-xsrf",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"attributes\": {\n        \"title\": \"[Deep Insights]{{brand_name}}_{{env}}_api_logs\",\n        \"description\": \"Saved search created by automation .via postman\",\n        \"hits\": 0,\n        \"columns\": [\n            \"method\",\n            \"url\",\n            \"statusCode\",\n            \"processingTime\",\n            \"microService\",\n            \"headers.host\",\n            \"headers.origin\",\n            \"headers.x-forwarded-for\"\n        ],\n        \"sort\": [],\n        \"version\": 1,\n        \"kibanaSavedObjectMeta\": {\n            \"searchSourceJSON\": \"{\\\"highlightAll\\\":true,\\\"version\\\":true,\\\"query\\\":{\\\"query\\\":\\\"\\\",\\\"language\\\":\\\"kuery\\\"},\\\"filter\\\":[{\\\"meta\\\":{\\\"alias\\\":\\\"accessLogs\\\",\\\"negate\\\":false,\\\"disabled\\\":true,\\\"type\\\":\\\"phrase\\\",\\\"key\\\":\\\"logType.keyword\\\",\\\"params\\\":{\\\"query\\\":\\\"accessLogs\\\"},\\\"indexRefName\\\":\\\"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\\\"},\\\"query\\\":{\\\"match_phrase\\\":{\\\"logType.keyword\\\":\\\"accessLogs\\\"}},\\\"$state\\\":{\\\"store\\\":\\\"appState\\\"}},{\\\"meta\\\":{\\\"alias\\\":\\\"apiLogs\\\",\\\"negate\\\":false,\\\"disabled\\\":false,\\\"type\\\":\\\"phrase\\\",\\\"key\\\":\\\"logType.keyword\\\",\\\"params\\\":{\\\"query\\\":\\\"apiLogs\\\"},\\\"indexRefName\\\":\\\"kibanaSavedObjectMeta.searchSourceJSON.filter[1].meta.index\\\"},\\\"query\\\":{\\\"match_phrase\\\":{\\\"logType.keyword\\\":\\\"apiLogs\\\"}},\\\"$state\\\":{\\\"store\\\":\\\"appState\\\"}}],\\\"indexRefName\\\":\\\"kibanaSavedObjectMeta.searchSourceJSON.index\\\"}\"\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.index\",\n            \"type\": \"index-pattern\",\n            \"id\": \"{{index_pattern}}\"\n        },\n        {\n            \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\",\n            \"type\": \"index-pattern\",\n            \"id\": \"{{index_pattern}}\"\n        },\n        {\n            \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.filter[1].meta.index\",\n            \"type\": \"index-pattern\",\n            \"id\": \"{{index_pattern}}\"\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://elk.oriserve.com/kibana/api/saved_objects/search/deep_insights_{{brand_name}}_{{env}}_api_logs_search",
									"protocol": "https",
									"host": [
										"elk",
										"oriserve",
										"com"
									],
									"path": [
										"kibana",
										"api",
										"saved_objects",
										"search",
										"deep_insights_{{brand_name}}_{{env}}_api_logs_search"
									]
								}
							},
							"response": []
						},
						{
							"name": "create_deep_insight_error_log_search",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"if (pm.response.code === 200) {",
											"    pm.collectionVariables.set('deep_insights_error_logs_search_id', pm.response.json().id);",
											"} else {",
											"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
											"    throw new Error('Access log table lense creation failed!');",
											"}",
											""
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "Authorization",
										"value": "ApiKey {{ApiKey}}",
										"type": "text",
										"disabled": true
									},
									{
										"key": "kbn-xsrf",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"attributes\": {\n        \"title\": \"[Deep Insights]{{brand_name}}_{{env}}_error_logs\",\n        \"description\": \"Saved search created by automation .via postman\",\n        \"hits\": 0,\n        \"columns\": [\n            \"name\",\n            \"message\",\n            \"description\",\n            \"scope\",\n            \"status\"\n        ],\n        \"sort\": [],\n        \"version\": 1,\n        \"kibanaSavedObjectMeta\": {\n            \"searchSourceJSON\": \"{\\\"highlightAll\\\":true,\\\"version\\\":true,\\\"query\\\":{\\\"query\\\":\\\"\\\",\\\"language\\\":\\\"kuery\\\"},\\\"filter\\\":[{\\\"meta\\\":{\\\"alias\\\":\\\"errorLogs\\\",\\\"negate\\\":false,\\\"disabled\\\":false,\\\"type\\\":\\\"phrase\\\",\\\"key\\\":\\\"logType.keyword\\\",\\\"params\\\":{\\\"query\\\":\\\"errorLogs\\\"},\\\"indexRefName\\\":\\\"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\\\"},\\\"query\\\":{\\\"match_phrase\\\":{\\\"logType.keyword\\\":\\\"errorLogs\\\"}},\\\"$state\\\":{\\\"store\\\":\\\"appState\\\"}}],\\\"indexRefName\\\":\\\"kibanaSavedObjectMeta.searchSourceJSON.index\\\"}\"\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.index\",\n            \"type\": \"index-pattern\",\n            \"id\": \"{{index_pattern}}\"\n        },\n        {\n            \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.filter[0].meta.index\",\n            \"type\": \"index-pattern\",\n            \"id\": \"{{index_pattern}}\"\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://elk.oriserve.com/kibana/api/saved_objects/search/deep_insights_{{brand_name}}_{{env}}_error_logs_search",
									"protocol": "https",
									"host": [
										"elk",
										"oriserve",
										"com"
									],
									"path": [
										"kibana",
										"api",
										"saved_objects",
										"search",
										"deep_insights_{{brand_name}}_{{env}}_error_logs_search"
									]
								}
							},
							"response": []
						}
					]
				},
				{
					"name": "Visualisations",
					"item": [
						{
							"name": "Pie",
							"item": [
								{
									"name": "create_deep_insight_top_30_access_pie",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"if (pm.response.code === 200) {",
													"    pm.collectionVariables.set('deep_insights_access_pie_visualization_id', pm.response.json().id);",
													"} else {",
													"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
													"    throw new Error('Access log table lense creation failed!');",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											},
											{
												"key": "kbn-xsrf",
												"value": "true",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"attributes\": {\n        \"title\": \"brand:{{brand_name}}_{{env}}_top_{{topAccessLogsCount}}_access_log_pie\",\n        \"visState\": \"{\\n  \\\"title\\\": \\\"brand:${{brand_name}}_${{env}}_top_{{topAccessLogsCount}}_access_log_pie\\\",\\n  \\\"type\\\": \\\"pie\\\",\\n  \\\"aggs\\\": [\\n    {\\n      \\\"id\\\": \\\"1\\\",\\n      \\\"enabled\\\": true,\\n      \\\"type\\\": \\\"count\\\",\\n      \\\"params\\\": {},\\n      \\\"schema\\\": \\\"metric\\\"\\n    },\\n    {\\n      \\\"id\\\": \\\"2\\\",\\n      \\\"enabled\\\": true,\\n      \\\"type\\\": \\\"terms\\\",\\n      \\\"params\\\": {\\n        \\\"field\\\": \\\"statusCode\\\",\\n        \\\"orderBy\\\": \\\"1\\\",\\n        \\\"order\\\": \\\"desc\\\",\\n        \\\"size\\\": 10,\\n        \\\"otherBucket\\\": false,\\n        \\\"otherBucketLabel\\\": \\\"Other\\\",\\n        \\\"missingBucket\\\": false,\\n        \\\"missingBucketLabel\\\": \\\"Missing\\\",\\n        \\\"customLabel\\\": \\\"Status Code\\\"\\n      },\\n      \\\"schema\\\": \\\"split\\\"\\n    },\\n    {\\n      \\\"id\\\": \\\"3\\\",\\n      \\\"enabled\\\": true,\\n      \\\"type\\\": \\\"terms\\\",\\n      \\\"params\\\": {\\n        \\\"field\\\": \\\"url.keyword\\\",\\n        \\\"orderBy\\\": \\\"1\\\",\\n        \\\"order\\\": \\\"desc\\\",\\n        \\\"size\\\": {{topAccessLogsCount}},\\n        \\\"otherBucket\\\": false,\\n        \\\"otherBucketLabel\\\": \\\"Other\\\",\\n        \\\"missingBucket\\\": false,\\n        \\\"missingBucketLabel\\\": \\\"Missing\\\",\\n        \\\"customLabel\\\": \\\"URL\\\"\\n      },\\n      \\\"schema\\\": \\\"segment\\\"\\n    }\\n  ],\\n  \\\"params\\\": {\\n    \\\"type\\\": \\\"pie\\\",\\n    \\\"addTooltip\\\": true,\\n    \\\"addLegend\\\": true,\\n    \\\"legendPosition\\\": \\\"top\\\",\\n    \\\"isDonut\\\": false,\\n    \\\"labels\\\": {\\n      \\\"show\\\": true,\\n      \\\"values\\\": true,\\n      \\\"last_level\\\": true,\\n      \\\"truncate\\\": 200\\n    },\\n    \\\"row\\\": true\\n  }\\n}\",\n        \"uiStateJSON\": \"{}\",\n        \"description\": \"Pie chart depicting top {{topAccessLogsCount}} Access Logs for {{capitalizedBrandName}} {{fullEnv}} grouped by status code. Created .via Postman.\",\n        \"version\": 1,\n        \"kibanaSavedObjectMeta\": {\n            \"searchSourceJSON\": \"{\\n  \\\"query\\\": {\\n    \\\"query\\\": \\\"logType.keyword : \\\\\\\"accessLogs\\\\\\\"  \\\",\\n    \\\"language\\\": \\\"kuery\\\"\\n  },\\n  \\\"filter\\\": [],\\n  \\\"indexRefName\\\": \\\"kibanaSavedObjectMeta.searchSourceJSON.index\\\"\\n}\"\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.index\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        }\n    ]\n}"
										},
										"url": {
											"raw": "https://elk.oriserve.com/kibana/api/saved_objects/visualization/deep_insights_{{brand_name}}_{{env}}_top_{{topAccessLogsCount}}_access_pie",
											"protocol": "https",
											"host": [
												"elk",
												"oriserve",
												"com"
											],
											"path": [
												"kibana",
												"api",
												"saved_objects",
												"visualization",
												"deep_insights_{{brand_name}}_{{env}}_top_{{topAccessLogsCount}}_access_pie"
											]
										}
									},
									"response": []
								},
								{
									"name": "create_deep_insight_top_30_api_pie",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"if (pm.response.code === 200) {",
													"    pm.collectionVariables.set('deep_insights_api_pie_visualization_id', pm.response.json().id);",
													"} else {",
													"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
													"    throw new Error('Access log table lense creation failed!');",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											},
											{
												"key": "kbn-xsrf",
												"value": "true",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"attributes\": {\n        \"title\": \"brand:{{brand_name}}_{{env}}_top_{{topApiLogsCount}}_api_log_pie\",\n        \"visState\": \"{\\n  \\\"title\\\": \\\"brand:{{brand_name}}_{{env}}_top_{{topApiLogsCount}}_api_log_pie\\\",\\n  \\\"type\\\": \\\"pie\\\",\\n  \\\"aggs\\\": [\\n    {\\n      \\\"id\\\": \\\"1\\\",\\n      \\\"enabled\\\": true,\\n      \\\"type\\\": \\\"count\\\",\\n      \\\"params\\\": {},\\n      \\\"schema\\\": \\\"metric\\\"\\n    },\\n    {\\n      \\\"id\\\": \\\"2\\\",\\n      \\\"enabled\\\": true,\\n      \\\"type\\\": \\\"terms\\\",\\n      \\\"params\\\": {\\n        \\\"field\\\": \\\"statusCode\\\",\\n        \\\"orderBy\\\": \\\"1\\\",\\n        \\\"order\\\": \\\"desc\\\",\\n        \\\"size\\\": 10,\\n        \\\"otherBucket\\\": false,\\n        \\\"otherBucketLabel\\\": \\\"Other\\\",\\n        \\\"missingBucket\\\": false,\\n        \\\"missingBucketLabel\\\": \\\"Missing\\\",\\n        \\\"customLabel\\\": \\\"Status Code\\\"\\n      },\\n      \\\"schema\\\": \\\"split\\\"\\n    },\\n    {\\n      \\\"id\\\": \\\"3\\\",\\n      \\\"enabled\\\": true,\\n      \\\"type\\\": \\\"terms\\\",\\n      \\\"params\\\": {\\n        \\\"field\\\": \\\"url.keyword\\\",\\n        \\\"orderBy\\\": \\\"1\\\",\\n        \\\"order\\\": \\\"desc\\\",\\n        \\\"size\\\": {{topApiLogsCount}},\\n        \\\"otherBucket\\\": false,\\n        \\\"otherBucketLabel\\\": \\\"Other\\\",\\n        \\\"missingBucket\\\": false,\\n        \\\"missingBucketLabel\\\": \\\"Missing\\\",\\n        \\\"customLabel\\\": \\\"URL\\\"\\n      },\\n      \\\"schema\\\": \\\"segment\\\"\\n    }\\n  ],\\n  \\\"params\\\": {\\n    \\\"type\\\": \\\"pie\\\",\\n    \\\"addTooltip\\\": true,\\n    \\\"addLegend\\\": true,\\n    \\\"legendPosition\\\": \\\"top\\\",\\n    \\\"isDonut\\\": false,\\n    \\\"labels\\\": {\\n      \\\"show\\\": true,\\n      \\\"values\\\": true,\\n      \\\"last_level\\\": true,\\n      \\\"truncate\\\": 200\\n    },\\n    \\\"row\\\": true\\n  }\\n}\",\n        \"uiStateJSON\": \"{}\",\n        \"description\": \"Pie chart depicting top {{topApiLogsCount}} Api Logs for {{capitalizedBrandName}} {{fullEnv}} grouped by status code. Created .via Postman.\",\n        \"version\": 1,\n        \"kibanaSavedObjectMeta\": {\n            \"searchSourceJSON\": \"{\\n  \\\"query\\\": {\\n    \\\"query\\\": \\\"logType.keyword : \\\\\\\"apiLogs\\\\\\\"  \\\",\\n    \\\"language\\\": \\\"kuery\\\"\\n  },\\n  \\\"filter\\\": [],\\n  \\\"indexRefName\\\": \\\"kibanaSavedObjectMeta.searchSourceJSON.index\\\"\\n}\"\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.index\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        }\n    ]\n}"
										},
										"url": {
											"raw": "https://elk.oriserve.com/kibana/api/saved_objects/visualization/deep_insights_{{brand_name}}_{{env}}_top_{{topApiLogsCount}}_api_pie",
											"protocol": "https",
											"host": [
												"elk",
												"oriserve",
												"com"
											],
											"path": [
												"kibana",
												"api",
												"saved_objects",
												"visualization",
												"deep_insights_{{brand_name}}_{{env}}_top_{{topApiLogsCount}}_api_pie"
											]
										}
									},
									"response": []
								},
								{
									"name": "create_deep_insight_top_20_errors_pie",
									"event": [
										{
											"listen": "test",
											"script": {
												"exec": [
													"if (pm.response.code === 200) {",
													"    pm.collectionVariables.set('deep_insights_error_pie_visualization_id', pm.response.json().id);",
													"} else {",
													"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
													"    throw new Error('Access log table lense creation failed!');",
													"}"
												],
												"type": "text/javascript"
											}
										}
									],
									"request": {
										"method": "POST",
										"header": [
											{
												"key": "Content-Type",
												"value": "application/json",
												"type": "text"
											},
											{
												"key": "kbn-xsrf",
												"value": "true",
												"type": "text"
											}
										],
										"body": {
											"mode": "raw",
											"raw": "{\n    \"attributes\": {\n        \"title\": \"brand:{{brand_name}}_{{env}}_top_{{topErrorCount}}_error_log_pie.\",\n        \"visState\": \"{\\n  \\\"title\\\": \\\"brand:tatasky_prod_top_{{topErrorCount}}_error_log_pie.\\\",\\n  \\\"type\\\": \\\"pie\\\",\\n  \\\"aggs\\\": [\\n    {\\n      \\\"id\\\": \\\"1\\\",\\n      \\\"enabled\\\": true,\\n      \\\"type\\\": \\\"count\\\",\\n      \\\"params\\\": {},\\n      \\\"schema\\\": \\\"metric\\\"\\n    },\\n    {\\n      \\\"id\\\": \\\"2\\\",\\n      \\\"enabled\\\": true,\\n      \\\"type\\\": \\\"terms\\\",\\n      \\\"params\\\": {\\n        \\\"field\\\": \\\"message.keyword\\\",\\n        \\\"orderBy\\\": \\\"1\\\",\\n        \\\"order\\\": \\\"desc\\\",\\n        \\\"size\\\": {{topErrorCount}},\\n        \\\"otherBucket\\\": false,\\n        \\\"otherBucketLabel\\\": \\\"Other\\\",\\n        \\\"missingBucket\\\": false,\\n        \\\"missingBucketLabel\\\": \\\"Missing\\\",\\n        \\\"customLabel\\\": \\\"Error Message\\\"\\n      },\\n      \\\"schema\\\": \\\"segment\\\"\\n    }\\n  ],\\n  \\\"params\\\": {\\n    \\\"type\\\": \\\"pie\\\",\\n    \\\"addTooltip\\\": true,\\n    \\\"addLegend\\\": true,\\n    \\\"legendPosition\\\": \\\"top\\\",\\n    \\\"isDonut\\\": false,\\n    \\\"labels\\\": {\\n      \\\"show\\\": true,\\n      \\\"values\\\": true,\\n      \\\"last_level\\\": true,\\n      \\\"truncate\\\": 200\\n    }\\n  }\\n}\",\n        \"uiStateJSON\": \"{}\",\n        \"description\": \"Pie chart depicting top {{topErrorCount}} Error logs for {{capitalizedBrandName}} {{fullEnv}}. Created .via Postman.\",\n        \"version\": 1,\n        \"kibanaSavedObjectMeta\": {\n            \"searchSourceJSON\": \"{\\n  \\\"query\\\": {\\n    \\\"query\\\": \\\"logType.keyword : \\\\\\\"errorLogs\\\\\\\" \\\",\\n    \\\"language\\\": \\\"kuery\\\"\\n  },\\n  \\\"filter\\\": [],\\n  \\\"indexRefName\\\": \\\"kibanaSavedObjectMeta.searchSourceJSON.index\\\"\\n}\"\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"kibanaSavedObjectMeta.searchSourceJSON.index\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        }\n    ]\n}"
										},
										"url": {
											"raw": "https://elk.oriserve.com/kibana/api/saved_objects/visualization/deep_insights_{{brand_name}}_{{env}}_top_{{topErrorCount}}_error_pie",
											"protocol": "https",
											"host": [
												"elk",
												"oriserve",
												"com"
											],
											"path": [
												"kibana",
												"api",
												"saved_objects",
												"visualization",
												"deep_insights_{{brand_name}}_{{env}}_top_{{topErrorCount}}_error_pie"
											]
										}
									},
									"response": []
								}
							]
						},
						{
							"name": "Lenses",
							"item": [
								{
									"name": "Data Table",
									"item": [
										{
											"name": "create_deep_insight_top_30_access_table_lense",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (pm.response.code === 200) {",
															"    pm.collectionVariables.set('top_access_table_lense_id', pm.response.json().id);",
															"} else {",
															"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
															"    throw new Error('Access log table lense creation failed!');",
															"}",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "kbn-xsrf",
														"value": "true",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"attributes\": {\n        \"title\": \"brand:{{brand_name}}_{{env}}_top_{{topAccessLogsCount}}_access_logs_table_detailed\",\n        \"description\": \"Table depicting top {{topAccessLogsCount}} Access Logs for {{capitalizedBrandName}} {{fullEnv}} ordered by count. Created .via Postman.\",\n        \"visualizationType\": \"lnsDatatable\",\n        \"state\": {\n            \"visualization\": {\n                \"layers\": [\n                    {\n                        \"layerId\": \"{{layerID}}\",\n                        \"columns\": [\n                            \"{{urlColumnID}}\",\n                            \"{{respCodeColumnID}}\",\n                            \"{{countColumnID}}\",\n                            \"{{avgColumnID}}\",\n                            \"{{maxColumnID}}\",\n                            \"{{minColumnID}}\"\n                        ]\n                    }\n                ]\n            },\n            \"datasourceStates\": {\n                \"indexpattern\": {\n                    \"layers\": {\n                        \"{{layerID}}\": {\n                            \"columnOrder\": [\n                                \"{{urlColumnID}}\",\n                                \"{{minColumnID}}\",\n                                \"{{respCodeColumnID}}\",\n                                \"{{countColumnID}}\",\n                                \"{{avgColumnID}}\",\n                                \"{{maxColumnID}}\"\n                            ],\n                            \"columns\": {\n                                \"{{urlColumnID}}\": {\n                                    \"sourceField\": \"url.keyword\",\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"string\",\n                                    \"scale\": \"ordinal\",\n                                    \"operationType\": \"terms\",\n                                    \"label\": \"URL\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"size\":{{topAccessLogsCount}},\n                                        \"orderBy\": {\n                                            \"columnId\": \"{{countColumnID}}\",\n                                            \"type\": \"column\"\n                                        },\n                                        \"orderDirection\": \"desc\"\n                                    }\n                                },\n                                \"{{countColumnID}}\": {\n                                    \"sourceField\": \"processingTime\",\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"avg\",\n                                    \"label\": \"AVG(TTPMS)\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"format\": {\n                                            \"id\": \"number\",\n                                            \"params\": {\n                                                \"decimals\": 2\n                                            }\n                                        }\n                                    }\n                                },\n                                \"{{avgColumnID}}\": {\n                                    \"sourceField\": \"processingTime\",\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"max\",\n                                    \"label\": \"MAX(TTPMS)\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"format\": {\n                                            \"id\": \"number\",\n                                            \"params\": {\n                                                \"decimals\": 2\n                                            }\n                                        }\n                                    }\n                                },\n                                \"{{maxColumnID}}\": {\n                                    \"sourceField\": \"processingTime\",\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"min\",\n                                    \"label\": \"MIN(TTPMS)\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"format\": {\n                                            \"id\": \"number\",\n                                            \"params\": {\n                                                \"decimals\": 2\n                                            }\n                                        }\n                                    }\n                                },\n                                \"{{minColumnID}}\": {\n                                    \"sourceField\": \"statusCode\",\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ordinal\",\n                                    \"operationType\": \"terms\",\n                                    \"label\": \"Response Code\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"size\": 10,\n                                        \"orderBy\": {\n                                            \"columnId\": \"{{countColumnID}}\",\n                                            \"type\": \"column\"\n                                        },\n                                        \"orderDirection\": \"desc\"\n                                    }\n                                },\n                                \"{{respCodeColumnID}}\": {\n                                    \"sourceField\": \"Records\",\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"count\",\n                                    \"label\": \"Count\",\n                                    \"customLabel\": true\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"query\": {\n                \"query\": \"logType.keyword :\\\"accessLogs\\\"   \",\n                \"language\": \"kuery\"\n            },\n            \"filters\": []\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"indexpattern-datasource-current-indexpattern\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        },\n        {\n            \"name\": \"indexpattern-datasource-layer-{{layerID}}\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        }\n    ]\n}"
												},
												"url": {
													"raw": "https://elk.oriserve.com/kibana/api/saved_objects/lens/deep_insights_{{brand_name}}_{{env}}_top_{{topAccessLogsCount}}_access_logs_table_lense",
													"protocol": "https",
													"host": [
														"elk",
														"oriserve",
														"com"
													],
													"path": [
														"kibana",
														"api",
														"saved_objects",
														"lens",
														"deep_insights_{{brand_name}}_{{env}}_top_{{topAccessLogsCount}}_access_logs_table_lense"
													]
												}
											},
											"response": []
										},
										{
											"name": "create_deep_insight_top_30_api_table_lense",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (pm.response.code === 200) {",
															"    pm.collectionVariables.set('top_api_table_lense_id', pm.response.json().id);",
															"} else {",
															"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
															"    throw new Error('Api log table lense creation failed!');",
															"}"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "kbn-xsrf",
														"value": "true",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"attributes\": {\n        \"title\": \"brand:{{brand_name}}_{{env}}_top_{{topApiLogsCount}}_api_logs_table_detailed\",\n        \"description\": \"Table depicting top {{topApiLogsCount}} API Logs for {{capitalizedBrandName}} {{fullEnv}} ordered by count. Created .via Postman.\",\n        \"visualizationType\": \"lnsDatatable\",\n        \"state\": {\n            \"visualization\": {\n                \"layers\": [\n                    {\n                        \"layerId\": \"{{layerID}}\",\n                        \"columns\": [\n                            \"{{urlColumnID}}\",\n                            \"{{respCodeColumnID}}\",\n                            \"{{countColumnID}}\",\n                            \"{{avgColumnID}}\",\n                            \"{{maxColumnID}}\",\n                            \"{{minColumnID}}\"\n                        ]\n                    }\n                ]\n            },\n            \"datasourceStates\": {\n                \"indexpattern\": {\n                    \"layers\": {\n                        \"{{layerID}}\": {\n                            \"columnOrder\": [\n                                \"{{urlColumnID}}\",\n                                \"{{minColumnID}}\",\n                                \"{{respCodeColumnID}}\",\n                                \"{{countColumnID}}\",\n                                \"{{avgColumnID}}\",\n                                \"{{maxColumnID}}\"\n                            ],\n                            \"columns\": {\n                                \"{{urlColumnID}}\": {\n                                    \"sourceField\": \"url.keyword\",\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"string\",\n                                    \"scale\": \"ordinal\",\n                                    \"operationType\": \"terms\",\n                                    \"label\": \"URL\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"size\": {{topApiLogsCount}},\n                                        \"orderBy\": {\n                                            \"columnId\": \"{{countColumnID}}\",\n                                            \"type\": \"column\"\n                                        },\n                                        \"orderDirection\": \"desc\"\n                                    }\n                                },\n                                \"{{countColumnID}}\": {\n                                    \"sourceField\": \"processingTime\",\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"avg\",\n                                    \"label\": \"AVG(TTPMS)\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"format\": {\n                                            \"id\": \"number\",\n                                            \"params\": {\n                                                \"decimals\": 2\n                                            }\n                                        }\n                                    }\n                                },\n                                \"{{avgColumnID}}\": {\n                                    \"sourceField\": \"processingTime\",\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"max\",\n                                    \"label\": \"MAX(TTPMS)\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"format\": {\n                                            \"id\": \"number\",\n                                            \"params\": {\n                                                \"decimals\": 2\n                                            }\n                                        }\n                                    }\n                                },\n                                \"{{maxColumnID}}\": {\n                                    \"sourceField\": \"processingTime\",\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"min\",\n                                    \"label\": \"MIN(TTPMS)\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"format\": {\n                                            \"id\": \"number\",\n                                            \"params\": {\n                                                \"decimals\": 2\n                                            }\n                                        }\n                                    }\n                                },\n                                \"{{minColumnID}}\": {\n                                    \"sourceField\": \"statusCode\",\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ordinal\",\n                                    \"operationType\": \"terms\",\n                                    \"label\": \"Response Code\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"size\": 10,\n                                        \"orderBy\": {\n                                            \"columnId\": \"{{countColumnID}}\",\n                                            \"type\": \"column\"\n                                        },\n                                        \"orderDirection\": \"desc\"\n                                    }\n                                },\n                                \"{{respCodeColumnID}}\": {\n                                    \"sourceField\": \"Records\",\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"count\",\n                                    \"label\": \"Count\",\n                                    \"customLabel\": true\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"query\": {\n                \"query\": \"logType.keyword :\\\"apiLogs\\\"   \",\n                \"language\": \"kuery\"\n            },\n            \"filters\": []\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"indexpattern-datasource-current-indexpattern\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        },\n        {\n            \"name\": \"indexpattern-datasource-layer-{{layerID}}\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        }\n    ]\n}"
												},
												"url": {
													"raw": "https://elk.oriserve.com/kibana/api/saved_objects/lens/deep_insights_{{brand_name}}_{{env}}_top_{{topApiLogsCount}}_api_logs_table_lense",
													"protocol": "https",
													"host": [
														"elk",
														"oriserve",
														"com"
													],
													"path": [
														"kibana",
														"api",
														"saved_objects",
														"lens",
														"deep_insights_{{brand_name}}_{{env}}_top_{{topApiLogsCount}}_api_logs_table_lense"
													]
												}
											},
											"response": []
										},
										{
											"name": "create_deep_insight_top_20_error_table_lense",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (pm.response.code === 200) {",
															"    pm.collectionVariables.set('top_error_table_lense_id', pm.response.json().id);",
															"} else {",
															"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
															"    throw new Error('Error log table lense creation failed!');",
															"}"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "kbn-xsrf",
														"value": "true",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"attributes\": {\n        \"title\": \"brand:{{brand_name}}_{{env}}_top_{{topErrorCount}}_error_logs_table\",\n        \"description\": \"Table depicting top {{topErrorCount}} Error Logs for {{capitalizedBrandName}} {{fullEnv}} ordered by count. Created .via Postman.\",\n        \"visualizationType\": \"lnsDatatable\",\n        \"state\": {\n            \"visualization\": {\n                \"layers\": [\n                    {\n                        \"layerId\": \"{{layerID}}\",\n                        \"columns\": [\n                            \"{{msgColumnID}}\",\n                            \"{{descColumnID}}\",\n                            \"{{countColumnID}}\"\n                        ]\n                    }\n                ]\n            },\n            \"datasourceStates\": {\n                \"indexpattern\": {\n                    \"layers\": {\n                        \"{{layerID}}\": {\n                            \"columnOrder\": [\n                                \"{{msgColumnID}}\",\n                                \"{{descColumnID}}\",\n                                \"{{countColumnID}}\"\n                            ],\n                            \"columns\": {\n                                \"{{descColumnID}}\": {\n                                    \"sourceField\": \"description.keyword\",\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"string\",\n                                    \"scale\": \"ordinal\",\n                                    \"operationType\": \"terms\",\n                                    \"label\": \"Error Description\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"size\": {{topErrorCount}},\n                                        \"orderBy\": {\n                                            \"columnId\": \"{{countColumnID}}\",\n                                            \"type\": \"column\"\n                                        },\n                                        \"orderDirection\": \"desc\"\n                                    }\n                                },\n                                \"{{msgColumnID}}\": {\n                                    \"sourceField\": \"message.keyword\",\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"string\",\n                                    \"scale\": \"ordinal\",\n                                    \"operationType\": \"terms\",\n                                    \"label\": \"Error Message\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"size\": {{topErrorCount}},\n                                        \"orderBy\": {\n                                            \"columnId\": \"{{countColumnID}}\",\n                                            \"type\": \"column\"\n                                        },\n                                        \"orderDirection\": \"desc\"\n                                    }\n                                },\n                                \"{{countColumnID}}\": {\n                                    \"sourceField\": \"Records\",\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"count\",\n                                    \"label\": \"Count\"\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"query\": {\n                \"query\": \"logType.keyword :\\\"errorLogs\\\" \",\n                \"language\": \"kuery\"\n            },\n            \"filters\": []\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"indexpattern-datasource-current-indexpattern\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        },\n        {\n            \"name\": \"indexpattern-datasource-layer-{{layerID}}\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        }\n    ]\n}"
												},
												"url": {
													"raw": "https://elk.oriserve.com/kibana/api/saved_objects/lens/deep_insights_{{brand_name}}_{{env}}_top_{{topErrorCount}}_error_logs_table_lense",
													"protocol": "https",
													"host": [
														"elk",
														"oriserve",
														"com"
													],
													"path": [
														"kibana",
														"api",
														"saved_objects",
														"lens",
														"deep_insights_{{brand_name}}_{{env}}_top_{{topErrorCount}}_error_logs_table_lense"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "Tree Map",
									"item": [
										{
											"name": "create_deep_insight_top_20_error_treemap_lense",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (pm.response.code === 200) {",
															"    pm.collectionVariables.set('top_error_treemap_lense_id', pm.response.json().id);",
															"} else {",
															"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
															"    throw new Error('Uniqueue error treemap lense creation failed!');",
															"}"
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "kbn-xsrf",
														"value": "true",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"attributes\": {\n        \"title\": \"brand:{{brand_name}}_{{env}}_top_{{topErrorCount}}_unique_error_log\",\n        \"description\": \"Treemap depicting top {{topErrorCount}} unique error logs for {{capitalizedBrandName}} {{fullEnv}}. Created .via Postman.\",\n        \"visualizationType\": \"lnsPie\",\n        \"state\": {\n            \"visualization\": {\n                \"shape\": \"treemap\",\n                \"layers\": [\n                    {\n                        \"legendDisplay\": \"default\",\n                        \"nestedLegend\": false,\n                        \"layerId\": \"{{layerID}}\",\n                        \"metric\": \"{{metricID}}\",\n                        \"numberDisplay\": \"percent\",\n                        \"groups\": [ ],\n                        \"categoryDisplay\": \"default\"\n                    }\n                ]\n            },\n            \"datasourceStates\": {\n                \"indexpattern\": {\n                    \"layers\": {\n                        \"{{layerID}}\": {\n                            \"columnOrder\": [\n                                \"{{groupID}}\",\n                                \"{{metricID}}\"\n                            ],\n                            \"columns\": {\n                                \"{{groupID}}\": {\n                                    \"sourceField\": \"message.keyword\",\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"string\",\n                                    \"scale\": \"ordinal\",\n                                    \"operationType\": \"terms\",\n                                    \"label\": \"Top values of Error Message\",\n                                    \"params\": {\n                                        \"size\": {{topErrorCount}},\n                                        \"orderBy\": {\n                                            \"columnId\": \"{{metricID}}\",\n                                            \"type\": \"column\"\n                                        },\n                                        \"orderDirection\": \"desc\"\n                                    }\n                                },\n                                \"{{metricID}}\": {\n                                    \"sourceField\": \"message.keyword\",\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"cardinality\",\n                                    \"label\": \"Unique count of Error Message\"\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"query\": {\n                \"query\": \"logType.keyword :\\\"errorLogs\\\" \",\n                \"language\": \"kuery\"\n            },\n            \"filters\": []\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"indexpattern-datasource-current-indexpattern\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        },\n        {\n            \"name\": \"indexpattern-datasource-layer-{{layerID}}\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        }\n    ]\n}"
												},
												"url": {
													"raw": "https://elk.oriserve.com/kibana/api/saved_objects/lens/deep_insights_{{brand_name}}_{{env}}_top_{{topErrorCount}}_error_treemap_lense",
													"protocol": "https",
													"host": [
														"elk",
														"oriserve",
														"com"
													],
													"path": [
														"kibana",
														"api",
														"saved_objects",
														"lens",
														"deep_insights_{{brand_name}}_{{env}}_top_{{topErrorCount}}_error_treemap_lense"
													]
												}
											},
											"response": []
										}
									],
									"event": [
										{
											"listen": "prerequest",
											"script": {
												"type": "text/javascript",
												"exec": [
													"// const { v4: uuidv4 } = require('uuid');",
													"// const layerID = uuidv4();",
													"// const groupID = uuidv4();",
													"// const metricID = uuidv4();",
													"",
													"// //common",
													"// pm.variables.set('layerID', layerID);",
													"// pm.variables.set('groupID', groupID);",
													"// pm.variables.set('metricID', metricID);"
												]
											}
										},
										{
											"listen": "test",
											"script": {
												"type": "text/javascript",
												"exec": [
													""
												]
											}
										}
									]
								},
								{
									"name": "Bar Graphs",
									"item": [
										{
											"name": "create_deep_insight_top_30_api_bargraph_lense",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (pm.response.code === 200) {",
															"    pm.collectionVariables.set('top_api_bargraph_lense_id', pm.response.json().id);",
															"} else {",
															"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
															"    throw new Error('Api log table lense creation failed!');",
															"}",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "kbn-xsrf",
														"value": "true",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"attributes\": {\n        \"title\": \"brand:{{brand_name}}_{{env}}_top_{{topApiLogsCount}}_api_logs_graph_ordered_by_res_time\",\n        \"description\": \"Graph depicting {{topApiLogsCount}} API trend for {{capitalizedBrandName}} {{fullEnv}} ordered by count. Created .via Postman.\",\n        \"visualizationType\": \"lnsXY\",\n        \"state\": {\n            \"visualization\": {\n                \"tickLabelsVisibilitySettings\": {\n                    \"x\": true,\n                    \"yRight\": true,\n                    \"yLeft\": true\n                },\n                \"preferredSeriesType\": \"bar_stacked\",\n                \"legend\": {\n                    \"isVisible\": true,\n                    \"position\": \"top\"\n                },\n                \"fittingFunction\": \"None\",\n                \"layers\": [\n                    {\n                        \"xAccessor\": \"{{xColID}}\",\n                        \"layerId\": \"{{layerID}}\",\n                        \"accessors\": [\n                            \"{{accessorID}}\"\n                        ],\n                        \"seriesType\": \"bar_stacked\",\n                        \"splitAccessor\": \"{{splitAccessorID}}\",\n                        \"yConfig\": [\n                            {\n                                \"axisMode\": \"auto\",\n                                \"forAccessor\": \"{{accessorID}}\"\n                            }\n                        ]\n                    }\n                ],\n                \"gridlinesVisibilitySettings\": {\n                    \"x\": true,\n                    \"yRight\": true,\n                    \"yLeft\": true\n                },\n                \"axisTitlesVisibilitySettings\": {\n                    \"x\": true,\n                    \"yRight\": true,\n                    \"yLeft\": true\n                }\n            },\n            \"datasourceStates\": {\n                \"indexpattern\": {\n                    \"layers\": {\n                        \"{{layerID}}\": {\n                            \"columnOrder\": [\n                                \"{{xColID}}\",\n                                \"{{splitAccessorID}}\",\n                                \"{{accessorID}}\"\n                            ],\n                            \"columns\": {\n                                \"{{accessorID}}\": {\n                                    \"sourceField\": \"processingTime\",\n                                    \"suggestedPriority\": 0,\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"avg\",\n                                    \"label\": \"Average of processingTime(ms)\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"format\": {\n                                            \"id\": \"number\",\n                                            \"params\": {\n                                                \"decimals\": 2\n                                            }\n                                        }\n                                    }\n                                },\n                                \"{{splitAccessorID}}\": {\n                                    \"sourceField\": \"url.keyword\",\n                                    \"suggestedPriority\": 0,\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"string\",\n                                    \"scale\": \"ordinal\",\n                                    \"operationType\": \"terms\",\n                                    \"label\": \"URL\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"size\": {{topApiLogsCount}},\n                                        \"orderBy\": {\n                                            \"columnId\": \"{{accessorID}}\",\n                                            \"type\": \"column\"\n                                        },\n                                        \"orderDirection\": \"desc\"\n                                    }\n                                },\n                                \"{{xColID}}\": {\n                                    \"sourceField\": \"@timestamp\",\n                                    \"suggestedPriority\": 1,\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"date\",\n                                    \"scale\": \"interval\",\n                                    \"operationType\": \"date_histogram\",\n                                    \"label\": \"@timestamp\",\n                                    \"params\": {\n                                        \"interval\": \"auto\"\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"query\": {\n                \"query\": \"logType.keyword :\\\"apiLogs\\\"  \",\n                \"language\": \"kuery\"\n            },\n            \"filters\": []\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"indexpattern-datasource-current-indexpattern\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        },\n        {\n            \"name\": \"indexpattern-datasource-layer-{{layerID}}\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        }\n    ]\n}"
												},
												"url": {
													"raw": "https://elk.oriserve.com/kibana/api/saved_objects/lens/deep_insights_{{brand_name}}_{{env}}_top_{{topApiLogsCount}}_api_bargraph_lense",
													"protocol": "https",
													"host": [
														"elk",
														"oriserve",
														"com"
													],
													"path": [
														"kibana",
														"api",
														"saved_objects",
														"lens",
														"deep_insights_{{brand_name}}_{{env}}_top_{{topApiLogsCount}}_api_bargraph_lense"
													]
												}
											},
											"response": []
										},
										{
											"name": "create_deep_insight_top_30_access_bargraph_lense",
											"event": [
												{
													"listen": "test",
													"script": {
														"exec": [
															"if (pm.response.code === 200) {",
															"    pm.collectionVariables.set('top_access_bargraph_lense_id', pm.response.json().id);",
															"} else {",
															"    console.error('Status: ', pm.response.code, '\\nBody: ', pm.response.status, '\\n');",
															"    throw new Error('Access log table lense creation failed!');",
															"}",
															""
														],
														"type": "text/javascript"
													}
												},
												{
													"listen": "prerequest",
													"script": {
														"exec": [
															""
														],
														"type": "text/javascript"
													}
												}
											],
											"request": {
												"method": "POST",
												"header": [
													{
														"key": "Content-Type",
														"value": "application/json",
														"type": "text"
													},
													{
														"key": "kbn-xsrf",
														"value": "true",
														"type": "text"
													}
												],
												"body": {
													"mode": "raw",
													"raw": "{\n    \"attributes\": {\n        \"title\": \"brand:{{brand_name}}_{{env}}_top_{{topAccessLogsCount}}_access_logs_graph_ordered_by_res_time\",\n        \"description\": \"Graph depicting {{topAccessLogsCount}} Access trend for {{capitalizedBrandName}} {{fullEnv}} ordered by count. Created .via Postman.\",\n        \"visualizationType\": \"lnsXY\",\n        \"state\": {\n            \"visualization\": {\n                \"tickLabelsVisibilitySettings\": {\n                    \"x\": true,\n                    \"yRight\": true,\n                    \"yLeft\": true\n                },\n                \"preferredSeriesType\": \"bar_stacked\",\n                \"legend\": {\n                    \"isVisible\": true,\n                    \"position\": \"top\"\n                },\n                \"fittingFunction\": \"None\",\n                \"layers\": [\n                    {\n                        \"xAccessor\": \"{{xColID}}\",\n                        \"layerId\": \"{{layerID}}\",\n                        \"accessors\": [\n                            \"{{accessorID}}\"\n                        ],\n                        \"seriesType\": \"bar_stacked\",\n                        \"splitAccessor\": \"{{splitAccessorID}}\",\n                        \"yConfig\": [\n                            {\n                                \"axisMode\": \"auto\",\n                                \"forAccessor\": \"{{accessorID}}\"\n                            }\n                        ]\n                    }\n                ],\n                \"gridlinesVisibilitySettings\": {\n                    \"x\": true,\n                    \"yRight\": true,\n                    \"yLeft\": true\n                },\n                \"axisTitlesVisibilitySettings\": {\n                    \"x\": true,\n                    \"yRight\": true,\n                    \"yLeft\": true\n                }\n            },\n            \"datasourceStates\": {\n                \"indexpattern\": {\n                    \"layers\": {\n                        \"{{layerID}}\": {\n                            \"columnOrder\": [\n                                \"{{xColID}}\",\n                                \"{{splitAccessorID}}\",\n                                \"{{accessorID}}\"\n                            ],\n                            \"columns\": {\n                                \"{{accessorID}}\": {\n                                    \"sourceField\": \"processingTime\",\n                                    \"suggestedPriority\": 0,\n                                    \"isBucketed\": false,\n                                    \"dataType\": \"number\",\n                                    \"scale\": \"ratio\",\n                                    \"operationType\": \"avg\",\n                                    \"label\": \"Average of processingTime(ms)\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"format\": {\n                                            \"id\": \"number\",\n                                            \"params\": {\n                                                \"decimals\": 2\n                                            }\n                                        }\n                                    }\n                                },\n                                \"{{splitAccessorID}}\": {\n                                    \"sourceField\": \"url.keyword\",\n                                    \"suggestedPriority\": 0,\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"string\",\n                                    \"scale\": \"ordinal\",\n                                    \"operationType\": \"terms\",\n                                    \"label\": \"URL\",\n                                    \"customLabel\": true,\n                                    \"params\": {\n                                        \"size\": {{topAccessLogsCount}},\n                                        \"orderBy\": {\n                                            \"columnId\": \"{{accessorID}}\",\n                                            \"type\": \"column\"\n                                        },\n                                        \"orderDirection\": \"desc\"\n                                    }\n                                },\n                                \"{{xColID}}\": {\n                                    \"sourceField\": \"@timestamp\",\n                                    \"suggestedPriority\": 1,\n                                    \"isBucketed\": true,\n                                    \"dataType\": \"date\",\n                                    \"scale\": \"interval\",\n                                    \"operationType\": \"date_histogram\",\n                                    \"label\": \"@timestamp\",\n                                    \"params\": {\n                                        \"interval\": \"auto\"\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            },\n            \"query\": {\n                \"query\": \"logType.keyword :\\\"accessLogs\\\"  \",\n                \"language\": \"kuery\"\n            },\n            \"filters\": []\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"indexpattern-datasource-current-indexpattern\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        },\n        {\n            \"name\": \"indexpattern-datasource-layer-{{layerID}}\",\n            \"id\": \"{{index_pattern}}\",\n            \"type\": \"index-pattern\"\n        }\n    ]\n}"
												},
												"url": {
													"raw": "https://elk.oriserve.com/kibana/api/saved_objects/lens/deep_insights_{{brand_name}}_{{env}}_top_{{topAccessLogsCount}}_access_bargraph_lense",
													"protocol": "https",
													"host": [
														"elk",
														"oriserve",
														"com"
													],
													"path": [
														"kibana",
														"api",
														"saved_objects",
														"lens",
														"deep_insights_{{brand_name}}_{{env}}_top_{{topAccessLogsCount}}_access_bargraph_lense"
													]
												}
											},
											"response": []
										}
									]
								}
							],
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"type": "text/javascript",
										"exec": [
											"const { v4: uuidv4 } = require('uuid');",
											"",
											"//common",
											"const layerID = uuidv4();",
											"const countColumnID = uuidv4();",
											"pm.variables.set('layerID', layerID);",
											"pm.variables.set('countColumnID', countColumnID);",
											"",
											"//access/api",
											"const urlColumnID = uuidv4();",
											"const respCodeColumnID = uuidv4();",
											"const avgColumnID = uuidv4();",
											"const maxColumnID = uuidv4();",
											"const minColumnID = uuidv4();",
											"pm.variables.set('urlColumnID', urlColumnID);",
											"pm.variables.set('respCodeColumnID', respCodeColumnID);",
											"pm.variables.set('avgColumnID', avgColumnID);",
											"pm.variables.set('maxColumnID', maxColumnID);",
											"pm.variables.set('minColumnID', minColumnID);",
											"",
											"//error",
											"const msgColumnID = uuidv4();",
											"const descColumnID = uuidv4();",
											"pm.variables.set('msgColumnID', msgColumnID);",
											"pm.variables.set('descColumnID', descColumnID);",
											"",
											"",
											"//treemap error",
											"const groupID = uuidv4();",
											"const metricID = uuidv4();",
											"pm.variables.set('groupID', groupID);",
											"pm.variables.set('metricID', metricID);",
											"",
											"",
											"//bargraph",
											"const xColID = uuidv4();",
											"const accessorID = uuidv4();",
											"const splitAccessorID = uuidv4();",
											"pm.variables.set('xColID', xColID);",
											"pm.variables.set('accessorID', accessorID);",
											"pm.variables.set('splitAccessorID', splitAccessorID);",
											"",
											"// console.log('randomIDs---->', layerID);",
											"// console.log('randomIDs---->', urlColumnID);",
											"// console.log('randomIDs---->', respCodeColumnID);",
											"// console.log('randomIDs---->', countColumnID);",
											"// console.log('randomIDs---->', avgColumnID);",
											"// console.log('randomIDs---->', minColumnID);",
											"// console.log('randomIDs---->', maxColumnID);",
											"",
											"",
											""
										]
									}
								},
								{
									"listen": "test",
									"script": {
										"type": "text/javascript",
										"exec": [
											""
										]
									}
								}
							]
						}
					]
				},
				{
					"name": "Dashboard",
					"item": [
						{
							"name": "create_deep_insight_dashboard",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"const automate = pm.environment.get('automate') ? pm.environment.get('automate') : false;",
											"",
											"// if (automate) {",
											"// pm.sendRequest()",
											"",
											"",
											"// }"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.collectionVariables.clear();",
											"pm.variables.clear();"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "kbn-xsrf",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"attributes\": {\n        \"title\": \"{{dashboardName}}\",\n        \"hits\": 0,\n        \"description\": \"{{dashbaordDescription}}\",\n        \"panelsJSON\": \"[{\\\"embeddableConfig\\\":{\\\"hidePanelTitles\\\":false,\\\"title\\\":\\\"Top 30 Incoming Hits Ordered By Response Time(AVG).\\\"},\\\"gridData\\\":{\\\"h\\\":15,\\\"i\\\":\\\"3e11c49b-e001-4190-b9a2-4c72bb662c34\\\",\\\"w\\\":28,\\\"x\\\":0,\\\"y\\\":0},\\\"panelIndex\\\":\\\"3e11c49b-e001-4190-b9a2-4c72bb662c34\\\",\\\"title\\\":\\\"Top 30 Incoming Hits Ordered By Response Time(AVG).\\\",\\\"version\\\":\\\"7.10.1\\\",\\\"panelRefName\\\":\\\"panel_0\\\"},{\\\"embeddableConfig\\\":{\\\"hidePanelTitles\\\":false,\\\"title\\\":\\\"Top 30 Incoming Hits Ordered By Count, Grouped By Status Code.\\\"},\\\"gridData\\\":{\\\"h\\\":30,\\\"i\\\":\\\"4c2cf035-eca7-42c1-9369-063c39a9a30d\\\",\\\"w\\\":20,\\\"x\\\":28,\\\"y\\\":0},\\\"panelIndex\\\":\\\"4c2cf035-eca7-42c1-9369-063c39a9a30d\\\",\\\"title\\\":\\\"Top 30 Incoming Hits Ordered By Count, Grouped By Status Code.\\\",\\\"version\\\":\\\"7.10.1\\\",\\\"panelRefName\\\":\\\"panel_1\\\"},{\\\"embeddableConfig\\\":{\\\"hidePanelTitles\\\":false,\\\"title\\\":\\\"Top 30 Incoming Hits Trend, Ordered By Response Time(AVG).\\\"},\\\"gridData\\\":{\\\"h\\\":15,\\\"i\\\":\\\"471189c5-193c-4fd4-86d9-93056ae996b6\\\",\\\"w\\\":28,\\\"x\\\":0,\\\"y\\\":15},\\\"panelIndex\\\":\\\"471189c5-193c-4fd4-86d9-93056ae996b6\\\",\\\"title\\\":\\\"Top 30 Incoming Hits Trend, Ordered By Response Time(AVG).\\\",\\\"version\\\":\\\"7.10.1\\\",\\\"panelRefName\\\":\\\"panel_2\\\"},{\\\"embeddableConfig\\\":{\\\"hidePanelTitles\\\":false,\\\"title\\\":\\\"Top 30 Outgoing API Calls Ordered By Response Time(AVG).\\\"},\\\"gridData\\\":{\\\"h\\\":18,\\\"i\\\":\\\"708dfeb5-eab1-4bca-940d-f2637f85514c\\\",\\\"w\\\":28,\\\"x\\\":0,\\\"y\\\":30},\\\"panelIndex\\\":\\\"708dfeb5-eab1-4bca-940d-f2637f85514c\\\",\\\"title\\\":\\\"Top 30 Outgoing API Calls Ordered By Response Time(AVG).\\\",\\\"version\\\":\\\"7.10.1\\\",\\\"panelRefName\\\":\\\"panel_3\\\"},{\\\"embeddableConfig\\\":{\\\"hidePanelTitles\\\":false,\\\"title\\\":\\\"Top 30 Outgoing API Calls Ordered By Count, Grouped By Status Code.\\\"},\\\"gridData\\\":{\\\"h\\\":36,\\\"i\\\":\\\"789bcca0-7f78-481a-b419-c8e3849c5dcb\\\",\\\"w\\\":20,\\\"x\\\":28,\\\"y\\\":30},\\\"panelIndex\\\":\\\"789bcca0-7f78-481a-b419-c8e3849c5dcb\\\",\\\"title\\\":\\\"Top 30 Outgoing API Calls Ordered By Count, Grouped By Status Code.\\\",\\\"version\\\":\\\"7.10.1\\\",\\\"panelRefName\\\":\\\"panel_4\\\"},{\\\"embeddableConfig\\\":{\\\"hidePanelTitles\\\":false,\\\"title\\\":\\\"Top 30 Outgoing API Calls Trend, Ordered By Response Time.\\\"},\\\"gridData\\\":{\\\"h\\\":18,\\\"i\\\":\\\"99cbe092-e3a9-468f-bf47-d8af8b0afb5b\\\",\\\"w\\\":28,\\\"x\\\":0,\\\"y\\\":48},\\\"panelIndex\\\":\\\"99cbe092-e3a9-468f-bf47-d8af8b0afb5b\\\",\\\"title\\\":\\\"Top 30 Outgoing API Calls Trend, Ordered By Response Time.\\\",\\\"version\\\":\\\"7.10.1\\\",\\\"panelRefName\\\":\\\"panel_5\\\"},{\\\"embeddableConfig\\\":{\\\"hidePanelTitles\\\":false,\\\"title\\\":\\\"Top 20 Unique Errors.\\\"},\\\"gridData\\\":{\\\"h\\\":19,\\\"i\\\":\\\"9b992d5a-2a2f-4fbf-b986-8ea1ed8ee676\\\",\\\"w\\\":28,\\\"x\\\":0,\\\"y\\\":66},\\\"panelIndex\\\":\\\"9b992d5a-2a2f-4fbf-b986-8ea1ed8ee676\\\",\\\"title\\\":\\\"Top 20 Unique Errors.\\\",\\\"version\\\":\\\"7.10.1\\\",\\\"panelRefName\\\":\\\"panel_6\\\"},{\\\"embeddableConfig\\\":{\\\"hidePanelTitles\\\":false,\\\"title\\\":\\\"Top 20 Errors Ordered By Count.\\\"},\\\"gridData\\\":{\\\"h\\\":19,\\\"i\\\":\\\"1283330f-a635-438a-b454-b452e002ef17\\\",\\\"w\\\":20,\\\"x\\\":28,\\\"y\\\":66},\\\"panelIndex\\\":\\\"1283330f-a635-438a-b454-b452e002ef17\\\",\\\"title\\\":\\\"Top 20 Errors Ordered By Count.\\\",\\\"version\\\":\\\"7.10.1\\\",\\\"panelRefName\\\":\\\"panel_7\\\"},{\\\"embeddableConfig\\\":{\\\"hidePanelTitles\\\":false,\\\"title\\\":\\\"Top 20 Error Logs Ordered By Count.\\\"},\\\"gridData\\\":{\\\"h\\\":15,\\\"i\\\":\\\"7b6401ef-3bb4-4fa4-aaf3-ac10996f0430\\\",\\\"w\\\":48,\\\"x\\\":0,\\\"y\\\":85},\\\"panelIndex\\\":\\\"7b6401ef-3bb4-4fa4-aaf3-ac10996f0430\\\",\\\"title\\\":\\\"Top 20 Error Logs Ordered By Count.\\\",\\\"version\\\":\\\"7.10.1\\\",\\\"panelRefName\\\":\\\"panel_8\\\"},{\\\"embeddableConfig\\\":{\\\"hidePanelTitles\\\":false,\\\"title\\\":\\\"All Error Logs\\\"},\\\"gridData\\\":{\\\"h\\\":15,\\\"i\\\":\\\"cedd9e95-9954-4c22-94f0-45fed8217147\\\",\\\"w\\\":48,\\\"x\\\":0,\\\"y\\\":100},\\\"panelIndex\\\":\\\"cedd9e95-9954-4c22-94f0-45fed8217147\\\",\\\"title\\\":\\\"All Error Logs\\\",\\\"version\\\":\\\"7.10.1\\\",\\\"panelRefName\\\":\\\"panel_9\\\"}]\",\n        \"optionsJSON\": \"{\\\"hidePanelTitles\\\":false,\\\"useMargins\\\":true}\",\n        \"version\": 1,\n        \"timeRestore\": true,\n        \"timeTo\": \"now\",\n        \"timeFrom\": \"now-15m\",\n        \"refreshInterval\": {\n            \"pause\": true,\n            \"value\": 0\n        },\n        \"kibanaSavedObjectMeta\": {\n            \"searchSourceJSON\": \"{\\\"query\\\":{\\\"language\\\":\\\"kuery\\\",\\\"query\\\":\\\"\\\"},\\\"filter\\\":[]}\"\n        }\n    },\n    \"references\": [\n        {\n            \"name\": \"panel_0\",\n            \"type\": \"lens\",\n            \"id\": \"{{top_access_table_lense_id}}\"\n        },\n        {\n            \"name\": \"panel_1\",\n            \"type\": \"visualization\",\n            \"id\": \"{{deep_insights_access_pie_visualization_id}}\"\n        },\n        {\n            \"name\": \"panel_2\",\n            \"type\": \"lens\",\n            \"id\": \"{{top_access_bargraph_lense_id}}\"\n        },\n        {\n            \"name\": \"panel_3\",\n            \"type\": \"lens\",\n            \"id\": \"{{top_api_table_lense_id}}\"\n        },\n        {\n            \"name\": \"panel_4\",\n            \"type\": \"visualization\",\n            \"id\": \"{{deep_insights_api_pie_visualization_id}}\"\n        },\n        {\n            \"name\": \"panel_5\",\n            \"type\": \"lens\",\n            \"id\": \"{{top_api_bargraph_lense_id}}\"\n        },\n        {\n            \"name\": \"panel_6\",\n            \"type\": \"lens\",\n            \"id\": \"{{top_error_treemap_lense_id}}\"\n        },\n        {\n            \"name\": \"panel_7\",\n            \"type\": \"visualization\",\n            \"id\": \"{{deep_insights_error_pie_visualization_id}}\"\n        },\n        {\n            \"name\": \"panel_8\",\n            \"type\": \"lens\",\n            \"id\": \"{{top_error_table_lense_id}}\"\n        },\n        {\n            \"name\": \"panel_9\",\n            \"type\": \"search\",\n            \"id\": \"{{deep_insights_error_logs_search_id}}\"\n        }\n    ]\n}"
								},
								"url": {
									"raw": "https://elk.oriserve.com/kibana/api/saved_objects/dashboard/deep_insights_{{brand_name}}_{{env}}_dashboard",
									"protocol": "https",
									"host": [
										"elk",
										"oriserve",
										"com"
									],
									"path": [
										"kibana",
										"api",
										"saved_objects",
										"dashboard",
										"deep_insights_{{brand_name}}_{{env}}_dashboard"
									]
								}
							},
							"response": []
						},
						{
							"name": "create_raw_dashboard",
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json",
										"type": "text"
									},
									{
										"key": "kbn-xsrf",
										"value": "true",
										"type": "text"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \n}"
								},
								"url": {
									"raw": "htps://elk.oriserve.com/kibana/api/saved_objects/dashboard/raw_{{brand_name}}_{{env}}_dashboard",
									"protocol": "htps",
									"host": [
										"elk",
										"oriserve",
										"com"
									],
									"path": [
										"kibana",
										"api",
										"saved_objects",
										"dashboard",
										"raw_{{brand_name}}_{{env}}_dashboard"
									]
								}
							},
							"response": []
						}
					]
				}
			],
			"auth": {
				"type": "apikey",
				"apikey": [
					{
						"key": "value",
						"value": "ApiKey {{ApiKey}}",
						"type": "string"
					},
					{
						"key": "key",
						"value": "Authorization",
						"type": "string"
					},
					{
						"key": "in",
						"value": "header",
						"type": "string"
					}
				]
			},
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"type": "text/javascript",
						"exec": [
							"//Extras",
							"const capitalize = string => { return string.charAt(0).toUpperCase() + string.slice(1) };",
							"",
							"//check overwrite, set to false if not found",
							"const overwite = pm.environment.get(\"overwite\");",
							"if(!overwite) pm.environment.set(\"overwrite\", false);",
							"",
							"",
							"//set naming variables",
							"const brand_name = pm.environment.get(\"brand_name\");",
							"const env = pm.environment.get(\"env\");",
							"if(!brand_name || !env) throw Error('Please supply all environment variables.');",
							"const index_pattern = `${env}_${brand_name}$$*`;",
							"",
							"//setting names for all saved_objects",
							"pm.environment.set(\"index_pattern\", index_pattern);",
							"const fullEnv = env && env == \"dev\" ? \"Development\" : env && env == \"prod\" ? \"Production\" : env == \"uat\" ? \"UAT\" : capitalize(env);",
							"const capitalizedBrandName = capitalize(brand_name);",
							"pm.variables.set('fullEnv', fullEnv);",
							"pm.variables.set('capitalizedBrandName', capitalizedBrandName);",
							"// pm.environment.set(\"\")",
							"",
							"",
							"",
							"//setting names for Dashboard",
							"const dashboardName = `[Deep Insights] [${env.toUpperCase()}] ${capitalizedBrandName}`;",
							"const dashbaordDescription = `Dashboard for Deep Insights on ${capitalizedBrandName} ${fullEnv}.`;",
							"",
							"pm.variables.set('dashboardName', dashboardName);",
							"pm.variables.set('dashbaordDescription', dashbaordDescription);",
							"",
							"",
							"// console.log('Details------------->', brand_name, index_pattern, fullEnv, dashboardName, dashbaordDescription);",
							"",
							"",
							""
						]
					}
				},
				{
					"listen": "test",
					"script": {
						"type": "text/javascript",
						"exec": [
							"const jsonData = pm.response.json();",
							"",
							"pm.test(\"Status code is 200\", function () {",
							"    pm.response.to.have.status(200);",
							"});",
							"",
							"pm.test(\"Response has property id\", function () {",
							"    pm.expect(jsonData).to.haveOwnProperty(\"id\");",
							"});"
						]
					}
				}
			]
		}
	],
	"auth": {
		"type": "apikey",
		"apikey": [
			{
				"key": "value",
				"value": "ApiKey {{ApiKey}}",
				"type": "string"
			},
			{
				"key": "key",
				"value": "Authorization",
				"type": "string"
			}
		]
	},
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					"//setting API KEY ENV",
					"pm.variables.set(\"ApiKey\", \"apikeygoeshere\");",
					"// pm.environment.unset(\"ApiKey\");"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// pm.environment.set(\"ApiKey\", \"Setting .via pre-scripts for security reasons.\");"
				]
			}
		}
	]
}